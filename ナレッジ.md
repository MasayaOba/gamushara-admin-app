# Gamushara Admin App - 開発ナレッジ

## プロジェクト概要
ガムシャラの管理業務を効率化するフルスタックWebアプリケーション

### 目標機能
- 練習メニューの作成
- メンバーの練習出席の管理
- イベントの管理をしているNotionとの連携
- SNSに投稿する文章の作成

## 技術スタック
- **フレームワーク**: Next.js 15.3.5 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS
- **データベース**: Vercel Postgres（予定）
- **認証**: NextAuth.js（予定）
- **デプロイ**: Vercel（予定）

### 選択理由
- 初心者向けで学習コストが低い
- フロントエンド・バックエンドを1つのフレームワークで開発可能
- Vercelの無料枠で十分
- Notion API連携が簡単
- 豊富な日本語ドキュメント

## セットアップ手順

### 1. プロジェクト作成
```bash
npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*"
```

### 2. 開発サーバー起動
```bash
npm run dev
```
- URL: http://localhost:3000
- Turbopack有効化済み

### 3. プロジェクト構造
```
src/
├── app/          # App Router（ページ・API）
├── components/   # 再利用可能なコンポーネント
├── lib/          # ユーティリティ関数
├── types/        # TypeScript型定義
└── api/          # APIエンドポイント
```

## 開発進捗

### ✅ 完了
- [x] Next.jsプロジェクトセットアップ
- [x] TypeScript + Tailwind CSS設定
- [x] 基本ディレクトリ構造作成
- [x] 開発サーバー動作確認
- [x] 我無沙羅の理念・概要の整理
- [x] アプリケーションの真の要件確認（運営メンバー専用の生成AI管理アプリ）
- [x] SNS投稿管理機能の基本要件整理
- [x] 要件定義.md作成
- [x] WhatToStart.md作成（次回アクション管理）
- [x] 我無沙羅の実際の投稿パターン調査・分析（note.com、SNSアカウント調査）
- [x] SNS投稿文章作成・管理機能の実装
  - [x] 投稿作成フォーム（PostForm.tsx）
  - [x] 投稿履歴表示（PostList.tsx）
  - [x] 型定義（types/index.ts）
  - [x] メインページ（page.tsx）
- [x] 我無沙羅らしい文章生成ロジックの実装
- [x] Instagram用詳細文章 + X用簡易化文章の同時生成
- [x] 静的HTMLデモ版作成（テザリング環境対応）
- [x] プロジェクトドキュメント整備（2025年7月21日）
  - [x] ナレッジ.md更新（実装済み機能詳細、トラブルシューティング追加）
  - [x] WhatToStart.md更新（進捗状況、次回アクション整理）
  - [x] セッション終了時の自動ドキュメント更新フロー確立

### 🔄 進行中
- [ ] 開発環境の改善（テザリング制限対応）

### ⏳ 未着手
- [ ] 生成AI連携（OpenAI API等）
- [ ] LocalStorageでの投稿履歴永続化
- [ ] 投稿履歴の検索・フィルタ機能
- [ ] 保存済み投稿の編集・再生成機能
- [ ] 練習メニュー作成機能
- [ ] メンバー出席管理機能
- [ ] Notion連携機能

## 開発ルール

### 重要：作業記録の残し方
- **すべての作業内容をナレッジ.mdに記録する**
- 新機能追加時は「開発進捗」セクションを更新
- 問題解決時は「トラブルシューティング」セクションに追加
- 設定変更時は該当セクションを更新
- **コードには基本的にコメントを記述する**（個人開発・空き時間開発のため）
  - 関数・コンポーネントの目的を日本語で明記
  - なぜそう実装したかの理由も記載
  - 将来の自分が理解しやすいよう詳細に記述

### 開発方針
- **アジャイル開発**：機能単位で少しずつ実装
- 各機能は独立して動作するよう設計
- 完成した機能から順次デプロイ・テスト
- 小さな成功を積み重ねる

## 実装済み機能詳細

### SNS投稿文章作成・管理機能（2025年7月21日実装）

#### 機能概要
- イベント情報を入力して我無沙羅らしいSNS投稿文を自動生成
- Instagram用詳細文章とX用簡易化文章を同時生成
- 作成した投稿の履歴管理とコピー機能

#### 技術実装
- **PostForm.tsx**: 投稿作成フォームコンポーネント
  - イベント基本情報の入力フォーム
  - 投稿タイプ（告知/お礼）の選択
  - 我無沙羅の投稿パターンに基づく文章生成
- **PostList.tsx**: 投稿履歴表示コンポーネント
  - 作成済み投稿の一覧表示
  - クリップボードコピー機能
- **types/index.ts**: TypeScript型定義
  - PostData, PostFormData インターフェース

#### 文章生成ロジック
- 我無沙羅の実際の投稿分析結果を反映
- 親しみやすく温かいトーン
- 感情表現豊かで読者との距離感が近い文章
- 理念「一生懸命はダサくない」「感動するほどの応援合戦を」を組み込み

#### ファイル構成
```
src/
├── app/page.tsx          # メインページ（タブ切り替えUI）
├── components/
│   ├── PostForm.tsx      # 投稿作成フォーム
│   └── PostList.tsx      # 投稿履歴表示
└── types/index.ts        # 型定義
static-demo.html          # 静的デモ版（テザリング環境対応）
```

## トラブルシューティング

### テザリング環境での開発サーバー接続問題
**問題**: スマホテザリング環境でNext.js開発サーバー（localhost:3000）に接続できない
**原因**: テザリング時のネットワーク分離、macOSネットワーク設定
**対応**: 
- 静的HTMLファイル（static-demo.html）での動作確認
- ファイアウォール無効化も効果なし
- 通常Wi-Fi環境での開発推奨

## メモ
- Turbopackを有効化しているため、開発時の起動が高速
- App Routerを使用（Pages Routerではない）
- src/配下にコードを配置する構成
- import aliasに`@/*`を設定済み